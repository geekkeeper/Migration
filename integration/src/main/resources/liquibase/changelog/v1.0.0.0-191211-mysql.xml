<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
				   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd">
	<changeSet author="WangXun" id="1576044676361-1">
		<comment>创建部门表(DEPARTMENT)</comment>
		<createTable tableName="DEPARTMENT" remarks="部门">
			<column name="ID" type="INT" autoIncrement="true" remarks="部门ID">
				<constraints primaryKey="true"/>
			</column>
			<column name="NAME" type="VARCHAR(50)" remarks="部门名称"/>
			<column name="SUPERIOR" type="VARCHAR(50)" remarks="上级部门ID"/>
			<column name="LEADER" type="VARCHAR(50)" remarks="部门领导：真实的用户ID"/>
			<column name="CREATED_BY" type="VARCHAR(50)" remarks="创建人;jAVA后台写入为-1,存储过程批量处理写入为-2,其它情况为真实的用户ID"/>
			<column name="CREATED_TIME" type="datetime" remarks="创建时间"/>
			<column name="UPDATED_BY" type="VARCHAR(50)" remarks="修改人;jAVA后台写入为-1,存储过程批量处理写入为-2,其它情况为真实的用户ID"/>
			<column name="UPDATED_TIME" type="datetime" remarks="修改时间"/>
			<column name="BRANCH" type="VARCHAR(10)" defaultValue="0" remarks="类型布尔值，true代表公司，false表示部门"/>
		</createTable>
	</changeSet>
	<changeSet author="WangXun" id="1576044676361-2">
		<comment>创建用户表(USER)</comment>
		<createTable tableName="USER" remarks="用户表">
			<column name="ID" type="INT" autoIncrement="true" remarks="用户ID">
				<constraints primaryKey="true"/>
			</column>
			<column name="DEPARTMENT" type="VARCHAR(50)" remarks="部门ID"/>
			<column name="WECHAT" type="VARCHAR(255)" remarks="微信账号"/>
			<column name="USERNAME" type="VARCHAR(50)" remarks="用户名">
				<constraints nullable="false" unique="true"/>
			</column>
			<column name="PASSWORD" type="VARCHAR(255)" remarks="密码"/>
			<column name="POSITION" type="TEXT" remarks="职位"/>
			<column name="AGE" type="INT" remarks="年龄"/>
			<column name="SEX" type="CHAR(1)" defaultValue="U" remarks="性别;M-男,F-女,U-未知"/>
			<column name="EDUCATION" type="VARCHAR(255)" remarks="学历"/>
			<column name="PICTURE" type="VARCHAR(255)" remarks="照片"/>
			<column name="NATIONALITY" type="VARCHAR(5)" remarks="国籍/民族"/>
			<column name="UNIVERSITY" type="VARCHAR(50)" remarks="大学"/>
			<column name="JOINED_TIME" type="datetime" remarks="加入时间"/>
			<column name="ADDRESS" type="VARCHAR(255)" remarks="地址"/>
			<column name="PHONE" type="VARCHAR(50)" remarks="电话"/>
			<column name="EMAIL" type="VARCHAR(50)" remarks="邮箱"/>
			<column name="ID_NUMBER" type="VARCHAR(30)" remarks="身份证号码"/>
			<column name="POLITICAL_TYPE" type="VARCHAR(30)" remarks="政治面貌"/>
			<column name="WORKING_YEARS" type="VARCHAR(5)" remarks="工作年限"/>
			<column name="STATE" type="CHAR(1)" remarks="在职状态:1-在职,0-离职"/>
			<column name="WAGE_CARD" type="VARCHAR(24)" remarks="工资卡"/>
			<column name="OPENING_BANK" type="VARCHAR(255)" remarks="开户行"/>
			<column name="PERDIEM" type="VARCHAR(10)" remarks="津贴"/>
			<column name="CREATED_TIME" type="datetime" remarks="创建时间"/>
			<column name="CREATED_BY" type="VARCHAR(50)" remarks="创建人;"/>
			<column name="UPDATED_TIME" type="datetime" remarks="修改时间"/>
			<column name="UPDATED_BY" type="VARCHAR(50)" remarks="修改人;"/>
			<column name="SUPER_ADMIN" type="CHAR(1)" defaultValue="N" remarks="是否超级管理员:是-Y,否-N"/>
		</createTable>
	</changeSet>
	<changeSet author="WangXun" id="1576044676361-3">
		<comment>创建角色表(ROLE)</comment>
		<createTable tableName="ROLE" remarks="角色表">
			<column name="ID" type="INT" autoIncrement="true" remarks="角色ID">
				<constraints primaryKey="true"/>
			</column>
			<column name="Name" type="VARCHAR(50)" remarks="角色名称"/>
			<column name="CREATED_TIME" type="datetime" remarks="创建时间"/>
			<column name="CREATED_BY" type="VARCHAR(50)" remarks="创建人;jAVA后台写入为-1,存储过程批量处理写入为-2,其它情况为真实的用户ID"/>
			<column name="UPDATED_TIME" type="datetime" remarks="修改时间"/>
			<column name="UPDATED_BY" type="VARCHAR(50)" remarks="修改人;jAVA后台写入为-1,存储过程批量处理写入为-2,其它情况为真实的用户ID"/>
			<column name="REMARK" type="VARCHAR(255)" remarks="备注"/>
		</createTable>
	</changeSet>
	<changeSet author="WangXun" id="1576044676361-4">
		<comment>创建系统资源表(RESOURCE)</comment>
		<createTable tableName="RESOURCE" remarks="系统资源表">
			<column name="ID" type="INT" autoIncrement="true" remarks="资源编号">
				<constraints primaryKey="true"/>
			</column>
			<column name="NAME" type="VARCHAR(20)" remarks="资源名称">
				<constraints nullable="false"/>
			</column>
			<column name="URL" type="VARCHAR(200)" remarks="资源连接地址"/>
			<column name="ICON" type="VARCHAR(30)" remarks="资源图标"/>
			<column name="TYPE" type="CHAR(1)" defaultValue="0" remarks="资源类型；0:菜单;1：按钮"/>
			<column name="STATUS" type="CHAR(1)" defaultValue="Y" remarks="资源状态；Y:启用;N：禁用"/>
			<column name="PARENT_ID" type="VARCHAR(50)" remarks="父资源编号"/>
			<column name="CREATED_TIME" type="datetime" remarks="创建时间"/>
			<column name="CREATED_BY" type="VARCHAR(50)" remarks="创建人;jAVA后台写入为-1,存储过程批量处理写入为-2,其它情况为真实的用户ID"/>
			<column name="UPDATED_TIME" type="datetime" remarks="修改时间"/>
			<column name="UPDATED_BY" type="VARCHAR(50)" remarks="修改人;jAVA后台写入为-1,存储过程批量处理写入为-2,其它情况为真实的用户ID"/>
			<column name="VALUE" type="VARCHAR(50)" remarks="资源值"/>
		</createTable>
	</changeSet>
	<changeSet author="WangXun" id="1576044676361-5">
		<comment>创建部门用户关系表(DEPARTMENT_USER)</comment>
		<createTable tableName="DEPARTMENT_USER" remarks="部门人员关系表">
			<column name="ID" type="INT" autoIncrement="true" remarks="ID">
				<constraints primaryKey="true"/>
			</column>
			<column name="DEPARTMENT_ID" type="INT" remarks="部门编号"/>
			<column name="USER_ID" type="INT" remarks="人员编号"/>
		</createTable>
	</changeSet>
	<changeSet author="WangXun" id="1576044676361-6">
		<comment>创建用户角色关系表(USER_ROLE)</comment>
		<createTable tableName="USER_ROLE" remarks="用户角色关系表">
			<column name="ID" type="INT" autoIncrement="true" remarks="ID">
				<constraints primaryKey="true"/>
			</column>
			<column name="USER_ID" remarks="用户ID" type="INT"/>
			<column name="ROLE_ID" remarks="角色ID" type="INT"/>
		</createTable>
	</changeSet>
	<changeSet author="WangXun" id="1576044676361-7">
		<comment>创建角色资源关系表(ROLE_RESOURCE)</comment>
		<createTable tableName="ROLE_RESOURCE" remarks="角色资源关系表">
			<column name="ID" type="INT" autoIncrement="true" remarks="ID">
				<constraints primaryKey="true"/>
			</column>
			<column name="RESOURCE_ID" type="INT" remarks="资源编号"/>
			<column name="ROLE_ID" type="INT" remarks="角色编号"/>
		</createTable>
	</changeSet>
	<changeSet author="WangXun" id="1576044676361-8">
		<comment>创建IX_USER_USERNAME索引</comment>
		<createIndex tableName="USER" indexName="IX_USER_USERNAME">
			<column name="USERNAME"/>
		</createIndex>
	</changeSet>
	<changeSet author="WangXun" id="1576044676361-9">
		<comment>创建IX_USER_ROLE_USER_ID索引</comment>
		<createIndex tableName="USER_ROLE" indexName="IX_USER_ROLE_USER_ID">
			<column name="USER_ID"/>
		</createIndex>
	</changeSet>
	<changeSet author="WangXun" id="1576044676361-10">
		<comment>创建IX_USER_ROLE_ROLE_ID索引</comment>
		<createIndex tableName="USER_ROLE" indexName="IX_USER_ROLE_ROLE_ID">
			<column name="ROLE_ID"/>
		</createIndex>
	</changeSet>
	<changeSet author="WangXun" id="1576044676361-11">
		<comment>创建IX_DEPARTMENT_USER_USER_ID索引</comment>
		<createIndex tableName="DEPARTMENT_USER" indexName="IX_DEPARTMENT_USER_USER_ID">
			<column name="USER_ID"/>
		</createIndex>
	</changeSet>
	<changeSet author="WangXun" id="1576044676361-12">
		<comment>创建IX_DEPARTMENT_USER_DEPARTMENT_ID索引</comment>
		<createIndex tableName="DEPARTMENT_USER" indexName="IX_DEPARTMENT_USER_DEPARTMENT_ID">
			<column name="DEPARTMENT_ID"/>
		</createIndex>
	</changeSet>
	<changeSet author="WangXun" id="1576044676361-13">
		<comment>创建IX_ROLE_RESOURCE_ROLE_ID索引</comment>
		<createIndex tableName="ROLE_RESOURCE" indexName="IX_ROLE_RESOURCE_ROLE_ID">
			<column name="ROLE_ID"/>
		</createIndex>
	</changeSet>
	<changeSet author="WangXun" id="1576044676361-14">
		<comment>创建IX_ROLE_RESOURCE_RESOURCE_ID</comment>
		<createIndex tableName="ROLE_RESOURCE" indexName="IX_ROLE_RESOURCE_RESOURCE_ID">
			<column name="RESOURCE_ID"/>
		</createIndex>
	</changeSet>

</databaseChangeLog>