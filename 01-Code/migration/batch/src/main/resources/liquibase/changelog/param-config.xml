<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd">

    <!--路径表-->
    <changeSet author="WangXun" id="1584407375607-75">
        <createTable tableName="Path" remarks="路径表">
            <column name="PathID" type="int" remarks="路径编号" autoIncrement="true">
                <constraints primaryKey="true"/>
            </column>
            <column name="PathName" type="nvarchar(50)" remarks="路径名称"/>
            <column name="Description" type="nvarchar(255)" remarks="描述信息"/>
            <column name="PathType" type="tinyint" remarks="路径类型">
                <constraints nullable="false"/>
            </column>
            <column name="PreLink" type="int" remarks="向前链接">
                <constraints nullable="false"/>
            </column>
            <column name="BackLink" type="int" remarks="向后链接">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <!--参数表-->
    <changeSet author="WangXun" id="1584407375607-74">
        <createTable tableName="Parameter" remarks="参数表">
            <column  name="ParameterID" type="int" remarks="参数编号" autoIncrement="true">
                <constraints primaryKey="true"/>
            </column>
            <column name="ParaName" type="nvarchar(50)" remarks="参数名称">
                <constraints nullable="false"/>
            </column>
            <column name="ParaOtherName" type="nvarchar(50)" remarks="参数别名"/>
            <column name="Description" type="nvarchar(255)" remarks="描述信息"/>
            <column name="ParaType" type="tinyint" remarks="参数类型">
                <constraints nullable="false"/>
            </column>
            <column name="DataType" type="tinyint" remarks="数据类型">
                <constraints nullable="false"/>
            </column>
            <column name="Unit" type="nvarchar(50)" remarks="计量单位">
                <constraints nullable="false"/>
            </column>
            <column name="RelatedID" type="int" remarks="关联编号"/>
            <column name="IsTrendPoint" type="tinyint" remarks="是否是趋势点">
                <constraints nullable="false"/>
            </column>
            <column name="IsAltered" type="tinyint" remarks="是否改动">
                <constraints nullable="false"/>
            </column>
            <column name="Type" type="tinyint" remarks="类型">
                <constraints nullable="false"/>
            </column>
            <column name="IsDownLoad" type="tinyint" remarks="是否下载">
                <constraints nullable="false"/>
            </column>
            <column name="Creator" type="int" remarks="创建人"/>
            <column name="CreationTime" type="datetime" remarks="创建时间"/>
            <column name="Mender" type="int" remarks="修改人"/>
            <column name="LastModify" type="datetime" remarks="修改时间"/>
        </createTable>
    </changeSet>
    <!--关联参数表-->
    <changeSet author="WangXun" id="1584407375607-79">
        <createTable tableName="RelatedPara" remarks="关联参数表">
            <column  name="RelatedParaID" type="int" remarks="关联参数编号" autoIncrement="true">
                <constraints primaryKey="true"/>
            </column>
            <column name="MainParaID" type="int" remarks="主参数编号">
                <constraints nullable="false"/>
            </column>
            <column name="SubParaID" type="int" remarks="子参数编号">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <!--配方参数设置表-->
    <changeSet author="WangXun" id="1584431605000-72">
        <createTable tableName="ParaFormula" remarks="配方参数表">
            <column name="ParaFormulaID" type="int" remarks="配方参数编号" autoIncrement="true" >
                <constraints primaryKey="true"/>
            </column>
            <column name="FormulaID" type="int" remarks="配方编号">
                <constraints nullable="false"/>
            </column>
            <column name="ParameterID" type="int" remarks="参数编号">
                <constraints nullable="false"/>
            </column>
            <column name="Value" type="nvarchar(300)" remarks="参数值">
                <constraints nullable="false"/>
            </column>
            <column name="MRElementID" type="int" remarks="主配方元素编号">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int" remarks="版本">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <!--历史配方参数设置表-->
    <changeSet author="WangXun" id="1584407375607-45">
        <createTable tableName="HParaFormula" remarks="配方参数表">
            <column autoIncrement="true" name="HParaFormulaID" type="int">
                <constraints primaryKey="true"/>
            </column>
            <column name="ParaFormulaID" type="int" remarks="配方参数编号" >
                <constraints nullable="false"/>
            </column>
            <column name="FormulaID" type="int" remarks="配方编号">
                <constraints nullable="false"/>
            </column>
            <column name="ParameterID" type="int" remarks="参数编号">
                <constraints nullable="false"/>
            </column>
            <column name="Value" type="nvarchar(300)" remarks="参数值">
                <constraints nullable="false"/>
            </column>
            <column name="MRElementID" type="int" remarks="主配方元素编号">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int" remarks="版本">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <!--物料参数表-->
    <changeSet author="WangXun" id="1584407375607-73">
        <createTable tableName="ParaMaterial" remarks="物料参数表">
            <column name="ParaMaterialID" type="int" remarks="物料参数编号" autoIncrement="true" >
                <constraints primaryKey="true"/>
            </column>
            <column name="ParaFormulaID" type="int" remarks="配方参数编号">
                <constraints nullable="false"/>
            </column>
            <column name="MaterialID" type="int" remarks="物料编号">
                <constraints nullable="false"/>
            </column>
            <column name="ParaFormVersion" type="int" remarks="配方参数版本">
                <constraints nullable="false"/>
            </column>
            <column name="IsProportion" type="int" remarks="是否是比例">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <!--历史物料参数表-->
    <changeSet author="WangXun" id="1584407375607-46">
        <createTable tableName="HParaMaterial" remarks="历史物料参数表">
            <column autoIncrement="true" name="HParaMaterialID" type="int">
                <constraints primaryKey="true"/>
            </column>
            <column name="ParaMaterialID" type="int" remarks="物料参数编号" >
                <constraints nullable="false"/>
            </column>
            <column name="ParaFormulaID" type="int" remarks="配方参数编号">
                <constraints nullable="false"/>
            </column>
            <column name="MaterialID" type="int" remarks="物料编号">
                <constraints nullable="false"/>
            </column>
            <column name="ParaFormVersion" type="int" remarks="配方参数版本">
                <constraints nullable="false"/>
            </column>
            <column name="IsProportion" type="int" remarks="是否是比例">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <!--路径参数表-->
    <changeSet author="WangXun" id="1584407375607-76">
        <createTable tableName="PathParameter" remarks="路径参数表">
            <column name="PathParameterID" type="int" remarks="路径参数编号"  autoIncrement="true">
                <constraints primaryKey="true"/>
            </column>
            <column name="PathID" type="int" remarks="路径编号">
                <constraints nullable="false"/>
            </column>
            <column name="ParameterID" type="int" remarks="参数编号">
                <constraints nullable="false"/>
            </column>
            <column name="Value" type="nvarchar(50)" remarks="参数值">
                <constraints nullable="false"/>
            </column>
            <column name="MacsPointID" type="int">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <!--OP版本参数表-->
    <changeSet author="WangXun" id="1584431605000-66">
        <createTable tableName="OPVersionPara" remarks="OP版本参数表">
            <column autoIncrement="true" name="OPVersionID" type="int" remarks="OP版本参数编号">
                <constraints primaryKey="true"/>
            </column>
            <column name="OPID" type="int" remarks="OP编号">
                <constraints nullable="false"/>
            </column>
            <column name="OPVersion" type="int" remarks="OP版本">
                <constraints nullable="false"/>
            </column>
            <column name="ParameterID" type="int" remarks="参数编号">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

</databaseChangeLog>
