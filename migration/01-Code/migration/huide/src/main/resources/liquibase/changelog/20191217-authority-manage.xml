<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
				   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
				   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
				   http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd">
	<!--权限管理模块-->
	<!--新建令牌记录表(OAUTH_ACCESS_TOKEN)-->
	<changeSet  id="1576561645670-1" author="WangXun">
		<comment>新建令牌记录表(OAUTH_ACCESS_TOKEN)</comment>
		<createTable tableName="OAUTH_ACCESS_TOKEN" remarks="令牌记录表">
			<column name="TOKEN_ID" type="varchar(32)" remarks="令牌编号">
				<constraints primaryKey="true" primaryKeyName="PK_ACCESS_ID"/>
			</column>
			<column name="TOKEN" type="varchar(8000)" remarks="令牌"/>
			<column name="AUTHENTICATION_ID" type="varchar(32)" remarks="认证编号"/>
			<column name="CLIENT_ID" type="varchar(32)" remarks="客户端编号"/>
			<column name="USER_NAME" type="varchar(32)" remarks="用户名"/>
			<column name="AUTHENTICATION" type="varchar(8000)" remarks="认证信息"/>
			<column name="REFRESH_TOKEN" type="varchar(32)" remarks="刷新令牌"/>
		</createTable>
	</changeSet>
	<!--新建授权客户端(OAUTH_CLIENT_DETAILS)-->
	<changeSet  id="1576561645670-2" author="WangXun">
		<comment>新建授权客户端(OAUTH_CLIENT_DETAILS)</comment>
		<createTable tableName="OAUTH_CLIENT_DETAILS" remarks="授权客户端">
			<column name="CLIENT_ID" remarks="客户端编号" type="varchar(32)">
				<constraints primaryKey="true" primaryKeyName="PK_CLIENT_ID"/>
			</column>
			<column name="RESOURCE_IDS" type="varchar(32)" remarks="资源编号"/>
			<column name="CLIENT_SECRET" type="varchar(255)" remarks="客户端授权"/>
			<column name="SCOPE" type="varchar(32)" remarks="作用域"/>
			<column name="AUTHORIZED_GRANT_TYPES" type="varchar(50)" remarks="授权类型"/>
			<column name="WEB_SERVER_REDIRECT_URI" type="varchar(255)" remarks="重定向地址"/>
			<column name="AUTHORITIES" type="varchar(32)" remarks="授权标识"/>
			<column name="ACCESS_TOKEN_VALIDITY" type="varchar(11)" remarks="验证令牌过期时间"/>
			<column name="REFRESH_TOKEN_VALIDITY" type="varchar(11)" remarks="刷新令牌过期时间"/>
			<column name="ADDITIONAL_INFORMATION" type="varchar(512)" remarks="预留字段JSON"/>
			<column name="CREATE_TIME" type="datetime" remarks="创建时间"/>
			<column name="ARCHIVED" type="varchar(11)" remarks="标识客户端是否已存档"/>
			<column name="TRUSTED" type="varchar(11)" remarks="是否为受信任"/>
			<column name="AUTOAPPROVE" type="varchar(11)" remarks="是否自动Approval操作"/>
		</createTable>
	</changeSet>
	<!--新建令牌刷新表(OAUTH_REFRESH_TOKEN)-->
	<changeSet  id="1576561645670-3" author="WangXun">
		<comment>新建令牌刷新表(OAUTH_REFRESH_TOKEN)</comment>
		<createTable tableName="OAUTH_REFRESH_TOKEN" remarks="令牌刷新表">
			<column name="TOKEN_ID" type="varchar(32)" remarks="令牌编号">
				<constraints primaryKey="true" primaryKeyName="PK_REFRESH_ID"/>
			</column>
			<column name="TOKEN" type="varchar(8000)" remarks="令牌"/>
			<column name="AUTHENTICATION" type="varchar(8000)" remarks="认证信息"/>
			<column name="CREATE_TIME" type="datetime" remarks="创建时间"/>
		</createTable>
	</changeSet>
	<!--创建应用表(AM_APPLICATION)-->
	<changeSet  id="1576561645670-4" author="WangXun">
		<comment>创建应用表(AM_APPLICATION)</comment>
		<createTable tableName="AM_APPLICATION">
			<column name="ID" type="varchar(32)" remarks="应用编号">
				<constraints primaryKey="true" primaryKeyName="PK_APPLICATION_ID"/>
			</column>
			<column name="CLIENT_ID" type="varchar(32)" remarks="客户端编号">
				<constraints nullable="false" notNullConstraintName="NU_APPLICATION_CLIENT_ID"/>
			</column>
			<column name="NAME" type="varchar(64)" remarks="应用名称">
				<constraints nullable="false" notNullConstraintName="NU_APPLICATION_NAME"/>
			</column>
			<column name="ENABLE" type="char(1)" defaultValue="Y" defaultValueConstraintName="DF_APPLICATION_ENABLE" remarks="应用状态:'Y'-启用，‘N’未启用"/>
			<column name="REMARK" type="varchar(128)" remarks="应用描述"/>
			<column name="DELETE_TAG" type="char(1)" defaultValue="N" defaultValueConstraintName="DF_APPLICATION_DELETE_TAG"
					remarks="删除标识:‘Y’-已删除，‘N’-未删除"/>
			<column name="CLIENT_SECRET" type="varchar(255)" remarks="客户端密钥"/>
			<column name="GRANT_TYPE" type="varchar(50)" remarks="授权类型"/>
			<column name="ACCESS_TOKEN_VALIDITY" type="varchar(11)" remarks="验证令牌过期时间"/>
			<column name="REFRESH_TOKEN_VALIDITY" type="varchar(11)" remarks="刷新令牌过期时间"/>
			<column name="CREATE_BY" type="varchar(32)" remarks="创建人"/>
			<column name="CREATE_TIME" type="datetime" remarks="创建时间"/>
			<column name="UPDATE_BY" type="varchar(32)" remarks="修改人"/>
			<column name="UPDATE_TIME" type="datetime" remarks="修改时间"/>
		</createTable>
	</changeSet>
	<!--自定义导航表(AM_NAVIGATION)-->
	<changeSet  id="1576561645670-5" author="WangXun">
		<comment>自定义导航表(AM_NAVIGATION)</comment>
		<createTable tableName="AM_NAVIGATION">
			<column name="ID" type="varchar(32)" remarks="导航编号">
				<constraints primaryKey="true" primaryKeyName="PK_NAVIGATION_ID"/>
			</column>
			<column name="CUSTOM_NAME" type="varchar(64)" remarks="自定义名称"/>
			<column name="MODULE_ID" type="varchar(32)" remarks="模块编号"/>
			<column name="PARENT_ID" type="varchar(32)" remarks="父模块编号"/>
			<column name="ORDER_NO" type="int" remarks="同级排序码"/>
		</createTable>
	</changeSet>
	<!--新建系统模块表(AM_MODULE)-->
	<changeSet  id="1576561645670-6" author="WangXun">
		<comment>新建系统模块表(AM_MODULE)</comment>
		<createTable tableName="AM_MODULE" remarks="系统模块表">
			<column name="ID" type="varchar(32)" remarks="模块编号">
				<constraints primaryKey="true" primaryKeyName="PK_MODULE_ID"/>
			</column>
			<column name="APP_ID" type="varchar(32)" remarks="应用编号"/>
			<column name="PARENT_ID" type="varchar(32)" remarks="父模块编号"/>
			<column name="NAME" type="varchar(64)" remarks="模块名称">
				<constraints nullable="false" notNullConstraintName="NU_MODULE_NAME"/>
			</column>
			<column name="URL" type="varchar(512)" remarks="请求地址"/>
			<column name="ICON" type="varchar(32)" remarks="模块图标"/>
			<column name="LEVEL" type="varchar(32)" remarks="模块层级"/>
			<column name="ENABLE" type="char(1)" defaultValue="Y" defaultValueConstraintName="DF_AM_MODULE_ENABLE" remarks="模块状态:'Y'-启用，‘N’未启用"/>
			<column name="ORDER_NO" type="int" remarks="排序码"/>
			<column name="DELETE_TAG" type="char(1)" defaultValue="N" defaultValueConstraintName="DF_MODULE_DELETE_TAG"
					remarks="删除标识:‘Y’-已删除，‘N’-未删除"/>
			<column name="CREATE_TIME" type="datetime" remarks="创建时间"/>
			<column name="CREATE_BY" type="varchar(32)" remarks="创建人"/>
			<column name="UPDATE_TIME" type="datetime" remarks="修改时间"/>
			<column name="UPDATE_BY" type="varchar(32)" remarks="修改人"/>
		</createTable>
	</changeSet>
	<!--新建模块行为表(AM_MODULE_ACTION)-->
	<changeSet  id="1576561645670-7" author="WangXun">
		<comment>新建模块行为表(AM_MODULE_ACTION)</comment>
		<createTable tableName="AM_MODULE_ACTION" remarks="模块行为表">
			<column name="ID" type="varchar(32)" remarks="编号">
				<constraints primaryKey="true" primaryKeyName="PK_ACTION_ID"/>
			</column>
			<column name="MODULE_ID" type="varchar(32)" remarks="模块编号">
				<constraints nullable="false" notNullConstraintName="NU_ACTION_MODULE_ID"/>
			</column>
			<column name="NAME" type="varchar(64)" remarks="行为名称">
				<constraints nullable="false" notNullConstraintName="NU_ACTION_NAME"/>
			</column>
			<column name="ALIAS" type="varchar(64)" remarks="行为别名"/>
			<column name="CODE" type="varchar(32)" remarks="行为编码"/>
			<column name="URL" type="varchar(512)" remarks="行为URL"/>
			<column name="DELETE_TAG" type="char(1)" defaultValue="N" defaultValueConstraintName="DF_MODULE_ACTION_DELETE_TAG"
					remarks="删除标识:‘Y’-已删除，‘N’-未删除"/>
			<column name="METHOD" type="char(1)" remarks="请求方式:0-GET,1-POST,2-DELETE,3-PUT"/>
			<column name="CREATE_TIME" type="datetime" remarks="创建时间"/>
			<column name="CREATE_BY" type="varchar(32)" remarks="创建人"/>
			<column name="UPDATE_TIME" type="datetime" remarks="修改时间"/>
			<column name="UPDATE_BY" type="varchar(32)" remarks="修改人"/>
		</createTable>
	</changeSet>
	<!--新建模块列表(AM_MODULE_LIST)-->
	<changeSet  id="1576561645670-8" author="WangXun">
		<comment>新建模块列表(AM_MODULE_LIST)</comment>
		<createTable tableName="AM_MODULE_LIST" remarks="模块列表">
			<column name="ID" type="varchar(32)" remarks="列表编号">
				<constraints primaryKey="true" primaryKeyName="PK_LIST_ID"/>
			</column>
			<column name="MODULE_ID" type="varchar(32)" remarks="模块编号">
				<constraints nullable="false" notNullConstraintName="NU_LIST_MODULE_ID"/>
			</column>
			<column name="NAME" type="varchar(64)" remarks="列表名称">
				<constraints nullable="false" notNullConstraintName="NU_LIST_NAME"/>
			</column>
			<column name="CODE" type="varchar(32)" remarks="列表编码"/>
			<column name="URL" type="varchar(512)" remarks="列表URL"/>
			<column name="DELETE_TAG" type="char(1)" defaultValue="N" defaultValueConstraintName="DF_MODULE_LIST_DELETE_TAG"
					remarks="删除标识:‘Y’-已删除，‘N’-未删除"/>
			<column name="CREATE_TIME" type="datetime" remarks="创建时间"/>
			<column name="CREATE_BY" type="varchar(32)" remarks="创建人"/>
			<column name="UPDATE_TIME" type="datetime" remarks="修改时间"/>
			<column name="UPDATE_BY" type="varchar(32)" remarks="修改人"/>
		</createTable>
	</changeSet>
	<!--新建模块列表字段表(AM_LIST_FIELD)-->
	<changeSet  id="1576561645670-9" author="WangXun">
		<comment>新建模块列表字段表(AM_LIST_FIELD)</comment>
		<createTable tableName="AM_LIST_FIELD" remarks="列表字段表">
			<column name="ID" type="varchar(32)" remarks="编号">
				<constraints primaryKey="true" primaryKeyName="PK_FIELD_ID"/>
			</column>
			<column name="LIST_ID" type="varchar(32)" remarks="列表编号">
				<constraints nullable="false" notNullConstraintName="NU_FIELD_LIST_ID"/>
			</column>
			<column name="NAME" type="varchar(64)" remarks="字段名称">
				<constraints nullable="false" notNullConstraintName="NU_FIELD_NAME"/>
			</column>
			<column name="CODE" type="varchar(32)" remarks="字段编码"/>
			<column name="TYPE" type="varchar(32)" remarks="字段类型"/>
			<column name="DELETE_TAG" type="char(1)" defaultValue="N" defaultValueConstraintName="DF_LIST_FIELD_DELETE_TAG"
					remarks="删除标识:‘Y’-已删除，‘N’-未删除"/>
			<column name="CREATE_TIME" type="datetime" remarks="创建时间"/>
			<column name="CREATE_BY" type="varchar(32)" remarks="创建人"/>
			<column name="UPDATE_TIME" type="datetime" remarks="修改时间"/>
			<column name="UPDATE_BY" type="varchar(32)" remarks="修改人"/>
		</createTable>
	</changeSet>
	<!--列表数据表(AM_FIELD_DATA)-->
	<changeSet  id="1576561645670-10" author="WangXun">
		<comment>列表数据表(AM_FIELD_DATA)</comment>
		<createTable tableName="AM_FIELD_DATA">
			<column name="ID" type="varchar(32)" remarks="编号">
				<constraints primaryKey="true" primaryKeyName="PK_FIELD_DATA_ID"/>
			</column>
			<column name="FIELD_ID" type="varchar(32)" remarks="字段编号">
				<constraints nullable="false" notNullConstraintName="NU_ROLE_DATA_FIELD_ID"/>
			</column>
			<column name="FIELD_CODE" type="varchar(32)" remarks="字段编码"/>
			<column name="CONDITION" type="char(1)" remarks="条件:1-大于,2-小于,3-等于,4-不等于,5-大于等于,6-小于等于,7-BETWEEN,8-LIKE"/>
			<column name="CONDITION_EXPRESSION" type="varchar(255)" remarks="条件表达式">
				<constraints nullable="false" notNullConstraintName="NU_DATA_CONDITION_EXPRESSION"/>
			</column>
			<column name="VALUE_TYPE" type="char(1)" remarks="值类型"/>
			<column name="FIRST_VALUE" type="varchar(32)" remarks="第一个条件值"/>
			<column name="SECOND_VALUE" type="varchar(32)" remarks="第二个条件值"/>
			<column name="DELETE_TAG" type="char(1)" defaultValue="N" defaultValueConstraintName="DF_FIELD_DATA_DELETE_TAG"
					remarks="删除标识:‘Y’-已删除，‘N’-未删除"/>
			<column name="CREATE_BY" type="varchar(32)" remarks="创建人"/>
			<column name="CREATE_TIME" type="datetime" remarks="创建时间"/>
			<column name="UPDATE_BY" type="varchar(32)" remarks="修改人"/>
			<column name="UPDATE_TIME" type="datetime" remarks="修改时间"/>
		</createTable>
	</changeSet>
	<!--新建角色表(AM_ROLE)-->
	<changeSet  id="1576561645670-11" author="WangXun">
		<comment>新建角色表(AM_ROLE)</comment>
		<createTable tableName="AM_ROLE" remarks="角色表">
			<column name="ID" type="varchar(32)" remarks="角色编号">
				<constraints primaryKey="true" primaryKeyName="PK_ROLE_ID"/>
			</column>
			<column name="TYPE" type="varchar(32)" remarks="角色类型"/>
			<column name="CODE" type="varchar(32)" remarks="角色编码"/>
			<column name="NAME" type="varchar(64)" remarks="角色名称">
				<constraints nullable="false" notNullConstraintName="NU_ROLE_NAME"/>
			</column>
			<column name="REMARK" type="varchar(255)" remarks="角色描述"/>
			<column name="DELETE_TAG" type="char(1)" defaultValue="N" defaultValueConstraintName="DF_ROLE_DELETE_TAG"
					remarks="删除标识:‘Y’-已删除，‘N’-未删除"/>
			<column name="CREATE_TIME" type="datetime" remarks="创建时间"/>
			<column name="CREATE_BY" type="varchar(32)" remarks="创建人"/>
			<column name="UPDATE_TIME" type="datetime" remarks="修改时间"/>
			<column name="UPDATE_BY" type="varchar(32)" remarks="修改人"/>
		</createTable>
	</changeSet>
	<!--新建用户表(AM_USER)-->
	<changeSet  id="1576561645670-12" author="WangXun">
		<comment>新建用户表(AM_USER)</comment>
		<createTable tableName="AM_USER" remarks="用户表">
			<column name="ID" type="varchar(32)" remarks="用户编号">
				<constraints primaryKey="true" primaryKeyName="PK_USER_ID"/>
			</column>
			<column name="EXTERN_ID" type="varchar(32)" remarks="外部标识"/>
			<column name="USERNAME" type="varchar(32)" remarks="登录用户名">
				<constraints nullable="false" notNullConstraintName="NU_AM_USER_USERNAME" unique="true" uniqueConstraintName="UQ_AM_USER_USERNAME"/>
			</column>
			<column name="PASSWORD" type="varchar(255)" remarks="密码">
				<constraints nullable="false" notNullConstraintName="NU_AM_USER_PASSWORD"/>
			</column>
			<column name="PASSWORD_TYPE" type="char(1)" remarks="密码类型:0-初始密码,1-用户自定义密码"
					defaultValue="0" defaultValueConstraintName="DF_USER_PASSWORD_TYPE"/>
			<column name="DEPART_NAME" type="varchar(64)" remarks="部门名称"/>
			<column name="NICK_NAME" type="varchar(64)" remarks="昵称"/>
			<column name="PERSON_NAME" type="varchar(64)" remarks="人员名称"/>
			<column name="WORK_NO" type="varchar(32)" remarks="工号"/>
			<column name="EMAIL" type="varchar(32)" remarks="邮箱"/>
			<column name="WECHAT" type="varchar(32)" remarks="微信"/>
			<column name="PHONE" type="varchar(32)" remarks="手机"/>
			<column name="ONLINE" type="char(1)" remarks="是否在线:'Y'-在线，‘N’-离线"
					defaultValue="N" defaultValueConstraintName="DF_AM_USER_ONLINE" />
			<column name="DELETE_TAG" type="char(1)" remarks="删除标识:‘Y’-已删除，‘N’-未删除"
					defaultValue="N" defaultValueConstraintName="DF_USER_DELETE_TAG"/>
			<column name="ENABLE" type="char(1)" remarks="启用状态:'Y'-启用，‘N’禁用"
					defaultValue="Y" defaultValueConstraintName="DF_AM_USER_ENABLE" />
			<column name="STATUS" type="char(1)" remarks="用户状态"/>
			<column name="IS_SUPER" type="char(1)" remarks="是否超级管理员"
					defaultValue="N" defaultValueConstraintName="DF_USER_IS_SUPER"/>
			<column name="CREATE_TIME" type="datetime" remarks="创建时间"/>
			<column name="CREATE_BY" type="varchar(32)" remarks="创建人"/>
			<column name="UPDATE_TIME" type="datetime" remarks="修改时间"/>
			<column name="UPDATE_BY" type="varchar(32)" remarks="修改人"/>
		</createTable>
		<insert tableName="AM_USER">
			<column name="ID" value="1000"/>
			<column name="EXTERN_ID"/>
			<column name="USERNAME" value="admin"/>
			<column name="PASSWORD" value="123456"/>
			<column name="DEPART_NAME"/>
			<column name="NICK_NAME" value="超级管理员"/>
			<column name="WORK_NO" value="admin"/>
			<column name="EMAIL"/>
			<column name="WECHAT"/>
			<column name="PHONE"/>
			<column name="ONLINE" value="N"/>
			<column name="DELETE_TAG" value="N"/>
			<column name="ENABLE" value="Y"/>
			<column name="CREATE_TIME" valueDate="2019-12-19T10:28:37"/>
			<column name="CREATE_BY" value="-1"/>
			<column name="UPDATE_TIME"/>
			<column name="UPDATE_BY"/>
		</insert>
	</changeSet>
	<!--创建用户角色关系表(AM_USER_ROLE)-->
	<changeSet  id="1576561645670-13" author="WangXun">
		<comment>创建用户角色关系表(AM_USER_ROLE)</comment>
		<createTable tableName="AM_USER_ROLE" remarks="用户角色">
			<column name="ID" type="varchar(32)" remarks="编号">
				<constraints primaryKey="true" primaryKeyName="PK_USER_ROLE_ID"/>
			</column>
			<column name="ROLE_ID" type="varchar(32)" remarks="角色编号">
				<constraints nullable="false" notNullConstraintName="NU_USER_ROLE_ROLE_ID"/>
			</column>
			<column name="USER_ID" type="varchar(32)" remarks="用户编号">
				<constraints nullable="false" notNullConstraintName="NU_USER_ROLE_USER_ID"/>
			</column>
		</createTable>
	</changeSet>
	<!--新建角色资源表(AM_ROLE_RESOURCE)-->
	<changeSet  id="1576561645670-14" author="WangXun">
		<comment>新建角色资源表(AM_ROLE_RESOURCE)</comment>
		<createTable tableName="AM_ROLE_RESOURCE" remarks="角色资源表">
			<column name="ID" remarks="编号" type="varchar(32)">
				<constraints primaryKey="true" primaryKeyName="PK_ROLE_RESOURCE_ID"/>
			</column>
			<column name="RESOURCE_TYPE" type="char(1)" remarks="资源类型:模块、行为、字段、数据"/>
			<column name="RESOURCE_ID" type="varchar(32)" remarks="资源编号:模块编号、行为编号、字段编号、数据编号">
				<constraints nullable="false" notNullConstraintName="NU_ROLE_RESOURCE_ID"/>
			</column>
			<column name="ROLE_ID" type="varchar(32)" remarks="角色编号">
				<constraints nullable="false" notNullConstraintName="NU_RESOURCE_ROLE_ID"/>
			</column>
		</createTable>
	</changeSet>
</databaseChangeLog>
