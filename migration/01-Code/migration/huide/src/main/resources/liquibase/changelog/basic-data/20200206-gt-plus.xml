<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd">
    <!--GT_Plus组态工程信息表-->
    <changeSet author="WangXun" id="1580976637730-1">
        <createTable tableName="GT_PROJECT" remarks="GT_Plus组态工程信息表">
            <column name="ID" type="${id}" remarks="GT工程编号">
                <constraints primaryKey="true" primaryKeyName="PK_GT_PROJECT"/>
            </column>
            <column name="NAME" type="${name}" remarks="GT工程名称">
                <constraints nullable="false"/>
            </column>
            <column name="GT_PROJECT_GUID" type="${id}" remarks="GT工程编码">
                <constraints nullable="false" unique="true" uniqueConstraintName="UQ_GT_PROJECT_GUID"/>
            </column>
        </createTable>
    </changeSet>
    <!--报表模板信息表-->
    <changeSet author="WangXun" id="1580976637730-2">
        <createTable tableName="GT_REPORT_TEMPLETE" remarks="报表模板信息表">
            <column name="ID" type="${id}" remarks="报表模板编号">
                <constraints primaryKey="true" primaryKeyName="PK_GT_REPORT_TEMPLETE"/>
            </column>
            <column name="GT_PROJECT_GUID" type="${id}" remarks="GT工程编码">
                <constraints nullable="false"/>
            </column>
            <column name="NAME" type="${name}" remarks="报表模板名称">
                <constraints nullable="false"/>
            </column>
            <column name="REMARK" type="${remark}" remarks="备注信息,描述信息"/>
            <column name="RESOURCE_URL" type="${url}" remarks="资源地址"/>
        </createTable>
    </changeSet>
    <!--流程图信息表-->
    <changeSet author="WangXun" id="1580976637730-3">
        <createTable tableName="GT_FLOW_CAHRT" remarks="流程图信息表">
            <column name="ID" type="${id}" remarks="流程图编号">
                <constraints primaryKey="true" primaryKeyName="PK_GT_FLOW_CAHRT"/>
            </column>
            <column name="CODE" type="${code}" remarks="流程图编码">
                <constraints nullable="false" unique="true" uniqueConstraintName="UQ_GRAPH_CODE"/>
            </column>
            <column name="GT_PROJECT_GUID" type="${id}" remarks="GT工程编码">
                <constraints nullable="false"/>
            </column>
            <column name="NAME" type="${name}" remarks="流程图名称">
                <constraints nullable="false"/>
            </column>
            <column name="REMARK" type="${remark}" remarks="备注信息,描述信息"/>
            <column name="RESOURCE_URL" type="${url}" remarks="资源地址"/>
        </createTable>
    </changeSet>
    <!--网络节点信息表-->
    <changeSet author="WangXun" id="1580976637730-4">
        <createTable tableName="GT_NETWORK_NODE" remarks="网络节点信息表">
            <column name="ID" type="${id}" remarks="节点编号">
                <constraints primaryKey="true" primaryKeyName="PK_GT_NETWORK_NODE"/>
            </column>
            <column name="NAME" type="${name}" remarks="节点名称">
                <constraints nullable="false"/>
            </column>
            <column name="CODE" type="${code}" remarks="节点编码">
                <constraints nullable="false"/>
            </column>
            <column name="GT_PROJECT_GUID" type="${id}" remarks="GT工程编码">
                <constraints nullable="false"/>
            </column>
            <column name="HDB_SERVICE_CODE" type="${id}" remarks="历史库服务编码"/>
            <column name="RTDB_SERVICE_CODE" type="${id}" remarks="实时库服务编码"/>
            <column name="CLOUD_COLLECTION_CODE" type="${id}" remarks="云采服务编码"/>
            <column name="LOG_SERVICE_CODE" type="${id}" remarks="日志服务编码"/>
            <column name="TIME_SERVICE_CODE" type="${id}" remarks="校时服务编码"/>
            <column name="RDB_SERVICE_CODE" type="${id}" remarks="关系库服务编码"/>
            <column name="NODE_STATE_CODE" type="${id}" remarks="节点状态服务编码"/>
            <column name="ALARM_SERVICE_CODE" type="${id}" remarks="报警服务编码"/>
            <column name="ALGORITHM_SERVICE_CODE" type="${id}" remarks="算法服务编码"/>
            <column name="DATA_COLLECTION_CODE" type="${id}" remarks="数采服务编码"/>
            <column name="REPORT_PRINT_CODE" type="${id}" remarks="报表服务编码"/>
        </createTable>
    </changeSet>
    <!--报警服务-->
    <changeSet author="WangXun" id="1580976637730-5">
        <createTable tableName="GT_ALARM_SERVICE" remarks="报警服务信息表">
            <column name="ID" type="${id}" remarks="报警服务编号">
                <constraints primaryKey="true" primaryKeyName="PK_GT_ALARM_SERVICE"/>
            </column>
            <column name="CODE" type="${code}" remarks="报警服务编码">
                <constraints unique="true" uniqueConstraintName="UQ_ALARM_SERVICE_CODE"/>
            </column>
            <column name="NODE_CODE" type="${code}" remarks="节点编码">
                <constraints nullable="false"/>
            </column>
            <column name="ALIAS" type="${name}" remarks="服务别名"/>
            <column name="NAME" type="${name}" remarks="服务名称">
                <constraints nullable="false"/>
            </column>
            <column name="PORT" type="${port}" remarks="通讯端口">
                <constraints nullable="false"/>
            </column>
            <column name="REMARK" type="${remark}" remarks="备注信息,描述信息"/>
            <column name="REDUNDANCY_NAME" type="${boolean}" remarks="冗余名称：A/B"/>
            <column name="REDUNDANCY_CODE" type="${code}" remarks="互为冗余编码:对方服务编码"/>
        </createTable>
    </changeSet>
    <!--算法运行服务-->
    <changeSet author="WangXun" id="1580976637730-6">
        <createTable tableName="GT_ALGORITHM_SERVICE" remarks="算法运行服务信息表">
            <column name="ID" type="${id}" remarks="算法服务编号">
                <constraints primaryKey="true" primaryKeyName="PK_GT_ALGORITHM_SERVICE"/>
            </column>
            <column name="CODE" type="${code}" remarks="算法服务编码">
                <constraints nullable="false" unique="true" uniqueConstraintName="UQ_ALGORITHM_SERVICE_CODE"/>
            </column>
            <column name="NODE_CODE" type="${code}" remarks="节点编码">
                <constraints nullable="false"/>
            </column>
            <column name="ALIAS" type="${name}" remarks="服务别名"/>
            <column name="NAME" type="${name}" remarks="服务名称">
                <constraints nullable="false"/>
            </column>
            <column name="PORT" type="${port}" remarks="通讯端口">
                <constraints nullable="false"/>
            </column>
            <column name="REMARK" type="${remark}" remarks="备注信息,描述信息"/>
            <column name="REDUNDANCY_NAME" type="${boolean}" remarks="冗余名称：A/B"/>
            <column name="REDUNDANCY_CODE" type="${code}" remarks="互为冗余编码:对方服务编码"/>
            <column name="RTDB_SERVICE_CODE" type="${code}" remarks="实时库服务编码"/>
            <column name="HDB_SERVICE_CODE" type="${code}" remarks="历史库服务编码"/>
        </createTable>
    </changeSet>
    <!--云卡采集服务-->
    <changeSet author="WangXun" id="1580976637730-7">
        <createTable tableName="GT_CLOUD_COLLECTION_SERVICE" remarks="云卡采集服务信息表">
            <column name="ID" type="${id}" remarks="云采服务编号">
                <constraints primaryKey="true" primaryKeyName="PK_GT_CLOUD_COLLECTION_SERVICE"/>
            </column>
            <column name="CODE" type="${code}" remarks="云采服务编码">
                <constraints nullable="false" unique="true" uniqueConstraintName="UQ_CLOUD_COLLECTION_CODE"/>
            </column>
            <column name="NODE_CODE" type="${code}" remarks="节点编码">
                <constraints nullable="false"/>
            </column>
            <column name="ALIAS" type="${name}" remarks="服务别名"/>
            <column name="NAME" type="${name}" remarks="服务名称">
                <constraints nullable="false"/>
            </column>
            <column name="PORT" type="${port}" remarks="通讯端口">
                <constraints nullable="false"/>
            </column>
            <column name="REMARK" type="${remark}" remarks="备注信息,描述信息"/>
            <column name="REDUNDANCY_NAME" type="${boolean}" remarks="冗余名称：A/B"/>
            <column name="REDUNDANCY_CODE" type="${code}" remarks="互为冗余编码:对方服务编码"/>
        </createTable>
    </changeSet>
    <!--数据采集服务-->
    <changeSet author="WangXun" id="1580976637730-8">
        <createTable tableName="GT_DATA_COLLECTION_SERVICE" remarks="数据采集服务信息表">
            <column name="ID" type="${id}" remarks="数采服务编号">
                <constraints primaryKey="true" primaryKeyName="PK_GT_DATA_COLLECTION_SERVICE"/>
            </column>
            <column name="CODE" type="${code}" remarks="数采服务编码">
                <constraints nullable="false" unique="true" uniqueConstraintName="UQ_DATA_COLLECTION_CODE"/>
            </column>
            <column name="NODE_CODE" type="${code}" remarks="节点编码">
                <constraints nullable="false"/>
            </column>
            <column name="ALIAS" type="${name}" remarks="服务别名"/>
            <column name="NAME" type="${name}" remarks="服务名称">
                <constraints nullable="false"/>
            </column>
            <column name="PORT" type="${port}" remarks="通讯端口">
                <constraints nullable="false"/>
            </column>
            <column name="REMARK" type="${remark}" remarks="备注信息,描述信息"/>
            <column name="REDUNDANCY_NAME" type="${boolean}" remarks="冗余名称：A/B"/>
            <column name="REDUNDANCY_CODE" type="${code}" remarks="互为冗余编码:对方服务编码"/>
            <column name="RTDB_SERVICE_CODE" type="${code}" remarks="实时库服务编码"/>
            <column name="HDB_SERVICE_CODE" type="${code}" remarks="历史库服务编码"/>
        </createTable>
    </changeSet>
    <!--日志服务-->
    <changeSet author="WangXun" id="1580976637730-9">
        <createTable tableName="GT_LOG_SERVICE" remarks="日志服务信息表">
            <column name="ID" type="${id}" remarks="日志服务编号">
                <constraints primaryKey="true" primaryKeyName="PK_GT_LOG_SERVICE"/>
            </column>
            <column name="CODE" type="${code}" remarks="日志服务编码">
                <constraints nullable="false" unique="true" uniqueConstraintName="UQ_LOG_SERVICE_CODE"/>
            </column>
            <column name="NODE_CODE" type="${code}" remarks="节点编码">
                <constraints nullable="false"/>
            </column>
            <column name="ALIAS" type="${name}" remarks="服务别名"/>
            <column name="NAME" type="${name}" remarks="服务名称">
                <constraints nullable="false"/>
            </column>
            <column name="PORT" type="${port}" remarks="通讯端口">
                <constraints nullable="false"/>
            </column>
            <column name="REMARK" type="${remark}" remarks="备注信息,描述信息"/>
            <column name="REDUNDANCY_NAME" type="${boolean}" remarks="冗余名称：A/B"/>
            <column name="REDUNDANCY_CODE" type="${code}" remarks="互为冗余编码:对方服务编码"/>
        </createTable>
    </changeSet>
    <!--节点状态服务-->
    <changeSet author="WangXun" id="1580976637730-10">
        <createTable tableName="GT_NODE_STATE_SERVICE" remarks="节点状态服务信息表">
            <column name="ID" type="${id}" remarks="节点状态服务编号">
                <constraints primaryKey="true" primaryKeyName="PK_GT_NODE_STATE_SERVICE"/>
            </column>
            <column name="CODE" type="${code}" remarks="节点状态服务编码">
                <constraints nullable="false" unique="true" uniqueConstraintName="UQ_NODE_STATE_CODE"/>
            </column>
            <column name="NODE_CODE" type="${code}" remarks="节点编码">
                <constraints nullable="false"/>
            </column>
            <column name="ALIAS" type="${name}" remarks="服务别名"/>
            <column name="NAME" type="${name}" remarks="服务名称">
                <constraints nullable="false"/>
            </column>
            <column name="PORT" type="${port}" remarks="通讯端口">
                <constraints nullable="false"/>
            </column>
            <column name="REMARK" type="${remark}" remarks="备注信息,描述信息"/>
            <column name="REDUNDANCY_NAME" type="${boolean}" remarks="冗余名称：A/B"/>
            <column name="REDUNDANCY_CODE" type="${code}" remarks="互为冗余编码:对方服务编码"/>
        </createTable>
    </changeSet>
    <!--关系库服务-->
    <changeSet author="WangXun" id="1580976637730-11">
        <createTable tableName="GT_RELATIONAL_DB_SERVICE" remarks="关系库服务信息表">
            <column name="ID" type="${id}" remarks="关系库服务编号">
                <constraints primaryKey="true" primaryKeyName="PK_GT_RDB_SERVICE"/>
            </column>
            <column name="CODE" type="${code}" remarks="关系库服务编码">
                <constraints nullable="false" unique="true" uniqueConstraintName="UQ_RDB_SERVICE_CODE"/>
            </column>
            <column name="NODE_CODE" type="${code}" remarks="节点编码">
                <constraints nullable="false"/>
            </column>
            <column name="ALIAS" type="${name}" remarks="服务别名"/>
            <column name="NAME" type="${name}" remarks="服务名称">
                <constraints nullable="false"/>
            </column>
            <column name="PORT" type="${port}" remarks="通讯端口">
                <constraints nullable="false"/>
            </column>
            <column name="REMARK" type="${remark}" remarks="备注信息,描述信息"/>
            <column name="REDUNDANCY_NAME" type="${boolean}" remarks="冗余名称：A/B"/>
            <column name="REDUNDANCY_CODE" type="${code}" remarks="互为冗余编码:对方服务编码"/>
            <column name="DATABASE_TYPE" type="${type}" remarks="数据库类型:0-SQL server,1-MySQL,2-Oracle">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <!--报表打印服务-->
    <changeSet author="WangXun" id="1580976637730-12">
        <createTable tableName="GT_REPORT_PRINT_SERVICE" remarks="报表打印服务信息表">
            <column name="ID" type="${id}" remarks="报表服务编号">
                <constraints primaryKey="true" primaryKeyName="PK_GT_REPORT_PRINT_SERVICE"/>
            </column>
            <column name="CODE" type="${code}" remarks="报表服务编码">
                <constraints nullable="false" unique="true" uniqueConstraintName="UQ_REPORT_PRINT_CODE"/>
            </column>
            <column name="NODE_CODE" type="${code}" remarks="节点编码">
                <constraints nullable="false"/>
            </column>
            <column name="ALIAS" type="${name}" remarks="服务别名"/>
            <column name="NAME" type="${name}" remarks="服务名称">
                <constraints nullable="false"/>
            </column>
            <column name="PORT" type="${port}" remarks="通讯端口">
                <constraints nullable="false"/>
            </column>
            <column name="REMARK" type="${remark}" remarks="备注信息,描述信息"/>
            <column name="REDUNDANCY_NAME" type="${boolean}" remarks="冗余名称：A/B"/>
            <column name="REDUNDANCY_CODE" type="${code}" remarks="互为冗余编码:对方服务编码"/>
        </createTable>
    </changeSet>
    <!--校时服务-->
    <changeSet author="WangXun" id="1580976637730-13">
        <createTable tableName="GT_TIME_SYNC_SERVICE" remarks="校时服务信息表">
            <column name="ID" type="${id}" remarks="校时服务编号">
                <constraints primaryKey="true" primaryKeyName="PK_GT_TIME_SERVICE"/>
            </column>
            <column name="CODE" type="${code}" remarks="校时服务编码">
                <constraints nullable="false" unique="true" uniqueConstraintName="TIME_SERVICE_CODE"/>
            </column>
            <column name="NODE_CODE" type="${code}" remarks="节点编码">
                <constraints nullable="false"/>
            </column>
            <column name="ALIAS" type="${name}" remarks="服务别名"/>
            <column name="NAME" type="${name}" remarks="服务名称">
                <constraints nullable="false"/>
            </column>
            <column name="PORT" type="${port}" remarks="通讯端口">
                <constraints nullable="false"/>
            </column>
            <column name="REMARK" type="${remark}" remarks="备注信息,描述信息"/>
            <column name="REDUNDANCY_NAME" type="${boolean}" remarks="冗余名称：A/B"/>
            <column name="REDUNDANCY_CODE" type="${code}" remarks="互为冗余编码:对方服务编码"/>
            <column name="SYNC_TYPE" type="${type}" remarks="校时类型:0-系统校时，1-云校时，2-NTP校时，3-B码校时，4-FM197校时，5-GPS校时">
                <constraints nullable="false"/>
            </column>
            <column name="SERVICE_IP" type="${ip}" remarks="时钟源地址"/>
            <column name="SERIAL_PORT" type="${sort}" remarks="串口号"/>
            <column name="BAUD_RATE" type="${baud}" remarks="波特率"/>
            <column name="CHECK_BIT" type="${digit}" remarks="校验位"/>
            <column name="DATA_DIGIT" type="${digit}" remarks="数据位数"/>
            <column name="STOP_DIGIT" type="${digit}" remarks="停止位数"/>
            <column name="FLOW_CONTROL" type="${boolean}" remarks="流量控制"/>
            <column name="REQUEST_TAG" type="${boolean}" remarks="是否发送请求"/>
        </createTable>
    </changeSet>
    <!--历史库服务-->
    <changeSet author="WangXun" id="1580976637730-14">
        <createTable tableName="GT_HDB_SERVICE" remarks="历史数据库服务信息表">
            <column name="ID" type="${id}" remarks="历史库服务编号">
                <constraints primaryKey="true" primaryKeyName="PK_GT_HDB_SERVICE"/>
            </column>
            <column name="CODE" type="${code}" remarks="历史库服务编码">
                <constraints nullable="false" unique="true" uniqueConstraintName="UQ_HDB_SERVICE_CODE"/>
            </column>
            <column name="NODE_CODE" type="${code}" remarks="节点编码">
                <constraints nullable="false"/>
            </column>
            <column name="NAME" type="${name}" remarks="服务名称">
                <constraints nullable="false"/>
            </column>
            <column name="ALIAS" type="${name}" remarks="服务别名"/>
            <column name="PORT" type="${port}" remarks="通讯端口">
                <constraints nullable="false"/>
            </column>
            <column name="REMARK" type="${remark}" remarks="备注信息,描述信息"/>
            <column name="REDUNDANCY_NAME" type="${boolean}" remarks="冗余名称：A/B"/>
            <column name="REDUNDANCY_CODE" type="${code}" remarks="互为冗余编码:对方服务编码"/>
            <column name="STORAGE_LIFE" type="${cycle}" remarks="保存期(天)"/>
            <column name="STORAGE_DRIVE" type="${drive}" remarks="存储盘符"/>

        </createTable>
    </changeSet>
    <!--实时库服务-->
    <changeSet author="WangXun" id="1580976637730-15">
        <createTable tableName="GT_REALTIME_DB_SERVICE" remarks="实时库服务信息表">
            <column name="ID" type="${id}" remarks="实时库服务编号">
                <constraints primaryKey="true" primaryKeyName="PK_GT_RTDB_SERVICE"/>
            </column>
            <column name="CODE" type="${code}" remarks="实时库服务编码">
                <constraints nullable="false" unique="true" uniqueConstraintName="UQ_RTDB_SERVICE_CODE"/>
            </column>
            <column name="NODE_CODE" type="${code}" remarks="节点编码">
                <constraints nullable="false"/>
            </column>
            <column name="HDB_SERVICE_CODE" type="${code}" remarks="历史库服务编码"/>
            <column name="ALIAS" type="${name}" remarks="服务别名"/>
            <column name="NAME" type="${name}" remarks="服务名称">
                <constraints nullable="false"/>
            </column>
            <column name="PORT" type="${port}" remarks="通讯端口">
                <constraints nullable="false"/>
            </column>
            <column name="REMARK" type="${remark}" remarks="备注信息,描述信息"/>
            <column name="REDUNDANCY_NAME" type="${boolean}" remarks="冗余名称：A/B"/>
            <column name="REDUNDANCY_CODE" type="${code}" remarks="互为冗余编码:对方服务编码"/>
            <column name="ENABLE_COMPRESSION" type="${boolean}" remarks="启用压缩算法"/>
        </createTable>
    </changeSet>
    <!--标签信息表-->
    <changeSet author="WangXun" id="1580976637730-16">
        <createTable tableName="GT_TAG" remarks="标签信息表">
            <column name="ID" type="${id}" remarks="标签编号">
                <constraints nullable="false"/>
            </column>
            <column name="GT_CODE" type="${code}" remarks="GT工程编码">
                <constraints nullable="false"/>
            </column>
            <column name="TAG_NAME" type="${name}" remarks="标签名称">
                <constraints nullable="false"/>
            </column>
            <column name="RTDB_SERVICE_CODE" type="${id}" remarks="实时库服务编码"/>
            <column name="REMARK" type="${remark}" remarks="备注信息,描述信息"/>
            <column name="AREA" type="varchar(128)" remarks="区域"/>
            <column name="DEVICE" type="varchar(128)" remarks="装置"/>
            <column name="UNIT" type="varchar(128)" remarks="单元"/>
            <column name="TAG_TYPE" type="${type}" remarks="标签类型"/>
            <column name="RESOURCE_URL" type="${url}" remarks="资源地址"/>
            <column name="TAG_DATA_TYPE" type="${type}" remarks="数据类型"/>
        </createTable>
        <addPrimaryKey columnNames="TAG_NAME, GT_CODE" constraintName="PK_GT_TAG" tableName="GT_TAG"/>
    </changeSet>

</databaseChangeLog>
