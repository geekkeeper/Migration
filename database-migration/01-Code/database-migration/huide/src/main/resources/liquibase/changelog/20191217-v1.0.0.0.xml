<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
				   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
				   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd">
	<changeSet author="WangXun" id="1576561645670-1">
		<comment>新建令牌记录表(OAUTH_ACCESS_TOKEN)</comment>
		<createTable tableName="OAUTH_ACCESS_TOKEN" remarks="令牌记录表">
			<column name="TOKEN_ID" type="varchar(32)" remarks="令牌编号">
				<constraints primaryKey="true"/>
			</column>
			<column name="TOKEN" type="varchar(max)" remarks="令牌"/>
			<column name="AUTHENTICATION_ID" type="varchar(32)" remarks="认证编号"/>
			<column name="CLIENT_ID" type="varchar(32)" remarks="客户端编号"/>
			<column name="USER_NAME" type="varchar(32)" remarks="用户名"/>
			<column name="AUTHENTICATION" type="varchar(max)" remarks="认证信息"/>
			<column name="REFRESH_TOKEN" type="varchar(32)" remarks="刷新令牌"/>
		</createTable>
	</changeSet>
	<changeSet author="WangXun" id="1576561645670-2">
		<comment>新建授权客户端(OAUTH_CLIENT_DETAILS)</comment>
		<createTable tableName="OAUTH_CLIENT_DETAILS" remarks="授权客户端">
			<column name="CLIENT_ID" remarks="客户端编号" type="varchar(32)">
				<constraints primaryKey="true"/>
			</column>
			<column name="RESOURCE_IDS" type="varchar(32)" remarks="资源编号"/>
			<column name="CLIENT_SECRET" type="varchar(255)" remarks="客户端授权"/>
			<column name="SCOPE" type="varchar(32)" remarks="作用域"/>
			<column name="AUTHORIZED_GRANT_TYPES" type="varchar(50)" remarks="授权类型"/>
			<column name="WEB_SERVER_REDIRECT_URI" type="varchar(255)" remarks="重定向地址"/>
			<column name="AUTHORITIES" type="varchar(32)" remarks="授权标识"/>
			<column name="ACCESS_TOKEN_VALIDITY" type="varchar(11)" remarks="验证令牌过期时间"/>
			<column name="REFRESH_TOKEN_VALIDITY" type="varchar(11)" remarks="刷新令牌过期时间"/>
			<column name="ADDITIONAL_INFORMATION" type="varchar(512)" remarks="预留字段JSON"/>
			<column name="CREATE_TIME" type="datetime" remarks="创建时间"/>
			<column name="ARCHIVED" type="varchar(11)" remarks="标识客户端是否已存档"/>
			<column name="TRUSTED" type="varchar(11)" remarks="是否为受信任"/>
			<column name="AUTOAPPROVE" type="varchar(11)" remarks="是否自动Approval操作"/>
		</createTable>
	</changeSet>
	<changeSet author="WangXun" id="1576561645670-3">
		<comment>新建令牌刷新表(OAUTH_REFRESH_TOKEN)</comment>
		<createTable tableName="OAUTH_REFRESH_TOKEN" remarks="令牌刷新表">
			<column name="TOKEN_ID" type="varchar(32)" remarks="令牌编号">
				<constraints primaryKey="true"/>
			</column>
			<column name="TOKEN" type="varchar(max)" remarks="令牌"/>
			<column name="AUTHENTICATION" type="varchar(max)" remarks="认证信息"/>
			<column name="CREATE_TIME" type="datetime" remarks="创建时间"/>
		</createTable>
	</changeSet>
	<changeSet author="WangXun" id="1576561645670-4">
		<comment>新建系统模块表(AM_MODULE)</comment>
		<createTable tableName="AM_MODULE" remarks="系统模块表">
			<column name="ID" type="varchar(32)" remarks="模块编号">
				<constraints primaryKey="true"/>
			</column>
			<column name="APP_ID" type="varchar(32)" remarks="应用编号"/>
			<column name="PARENT_ID" type="varchar(32)" remarks="父模块编号"/>
			<column name="NAME" type="varchar(50)" remarks="模块名称">
				<constraints nullable="false"/>
			</column>
			<column name="URL" type="varchar(512)" remarks="模块连接地址"/>
			<column name="METHOD" type="varchar(8)" remarks="模块请求方式"/>
			<column name="ICON" type="varchar(32)" remarks="模块图标"/>
			<column name="LEVEL" type="varchar(32)" remarks="模块层级"/>
			<column name="ENABLE" type="char(1)" defaultValue="Y" defaultValueConstraintName="DF_AM_MODULE_ENABLE" remarks="模块状态:'Y'-启用，‘N’未启用"/>
			<column name="ORDER" type="int" remarks="排序码"/>
			<column name="CREATE_TIME" type="datetime" remarks="创建时间"/>
			<column name="CREATE_BY" type="varchar(32)" remarks="创建人"/>
			<column name="UPDATE_TIME" type="datetime" remarks="修改时间"/>
			<column name="UPDATE_BY" type="varchar(32)" remarks="修改人"/>
		</createTable>
	</changeSet>
	<changeSet author="WangXun" id="1576561645670-5">
		<comment>新建模块行为表(AM_MODULE_ACTION)</comment>
		<createTable tableName="AM_MODULE_ACTION" remarks="模块行为表">
			<column name="ID" type="varchar(32)" remarks="编号">
				<constraints primaryKey="true"/>
			</column>
			<column name="MODULE_ID" type="varchar(32)" remarks="模块编号"/>
			<column name="NAME" type="varchar(50)" remarks="角色编号"/>
			<column name="CODE" type="varchar(32)" remarks="行为编码"/>
			<column name="URL" type="varchar(512)" remarks="行为URL"/>
			<column name="METHOD" type="varchar(8)" remarks="行为请求方式"/>
			<column name="CREATE_TIME" type="datetime" remarks="创建时间"/>
			<column name="CREATE_BY" type="varchar(32)" remarks="创建人"/>
			<column name="UPDATE_TIME" type="datetime" remarks="修改时间"/>
			<column name="UPDATE_BY" type="varchar(32)" remarks="修改人"/>
		</createTable>
	</changeSet>
	<changeSet author="WangXun" id="1576561645670-6">
		<comment>新建模块字段表(AM_MODULE_FIELD)</comment>
		<createTable tableName="AM_MODULE_FIELD" remarks="模块字段表">
			<column name="ID" type="varchar(32)" remarks="编号">
				<constraints primaryKey="true"/>
			</column>
			<column name="MODULE_ID" type="varchar(32)" remarks="模块编号"/>
			<column name="NAME" type="varchar(50)" remarks="字段名称"/>
			<column name="CODE" type="varchar(32)" remarks="字段编码"/>
			<column name="CREATE_TIME" type="datetime" remarks="创建时间"/>
			<column name="CREATE_BY" type="varchar(32)" remarks="创建人"/>
			<column name="UPDATE_TIME" type="datetime" remarks="修改时间"/>
			<column name="UPDATE_BY" type="varchar(32)" remarks="修改人"/>
		</createTable>
	</changeSet>
	<changeSet author="WangXun" id="1576561645670-7">
		<comment>新建角色表(AM_ROLE)</comment>
		<createTable tableName="AM_ROLE" remarks="角色表">
			<column name="ID" type="varchar(32)" remarks="角色编号">
				<constraints primaryKey="true"/>
			</column>
			<column name="TYPE" type="varchar(32)" remarks="角色类型"/>
			<column name="CODE" type="varchar(32)" remarks="角色编码"/>
			<column name="NAME" type="varchar(50)" remarks="角色名称"/>
			<column name="REMARK" type="varchar(255)" remarks="角色描述"/>
			<column name="CREATE_TIME" type="datetime" remarks="创建时间"/>
			<column name="CREATE_BY" type="varchar(32)" remarks="创建人"/>
			<column name="UPDATE_TIME" type="datetime" remarks="修改时间"/>
			<column name="UPDATE_BY" type="varchar(32)" remarks="修改人"/>
		</createTable>
	</changeSet>
	<changeSet author="WangXun" id="1576561645670-8">
		<comment>新建角色资源表(AM_ROLE_RESOURCE)</comment>
		<createTable tableName="AM_ROLE_RESOURCE" remarks="角色资源表">
			<column name="ID" remarks="编号" type="varchar(32)">
				<constraints primaryKey="true"/>
			</column>
			<column name="RESOURCE_TYPE" remarks="资源类型" type="char(1)"/>
			<column name="RESOURCE_ID" remarks="资源编号" type="varchar(32)"/>
			<column name="ROLE_ID" remarks="角色编号" type="varchar(32)"/>
		</createTable>
	</changeSet>
	<changeSet author="WangXun" id="1576561645670-9">
		<comment>新建用户表(AM_USER)</comment>
		<createTable tableName="AM_USER" remarks="用户表">
			<column name="ID" remarks="编号" type="varchar(32)">
				<constraints primaryKey="true"/>
			</column>
			<column name="EXTERN_ID" type="varchar(32)" remarks="外部标识"/>
			<column name="USERNAME" type="varchar(32)" remarks="登录用户名">
				<constraints nullable="false" notNullConstraintName="NU_AM_USER_USERNAME" unique="true" uniqueConstraintName="UQ_AM_USER_USERNAME"/>
			</column>
			<column name="PASSWORD" type="varchar(255)" remarks="密码">
				<constraints nullable="false" notNullConstraintName="NU_AM_USER_PASSWORD"/>
			</column>
			<column name="NICK_NAME" type="varchar(50)" remarks="昵称"/>
			<column name="WORK_NO" type="varchar(50)" remarks="工号"/>
			<column name="EMAIL" type="varchar(50)" remarks="邮箱"/>
			<column name="WECHAT" type="varchar(50)" remarks="微信"/>
			<column name="PHONE" type="varchar(32)" remarks="手机"/>
			<column name="ONLINE" type="char(1)" defaultValue="N" defaultValueConstraintName="DF_AM_USER_ONLINE" remarks="是否在线:'Y'-在线，‘N’-离线"/>
			<column name="DELETE" type="char(1)" defaultValue="N" defaultValueConstraintName="DF_AM_USER_DELETE" remarks="是否删除:‘Y’-已删除，‘N’-未删除"/>
			<column name="ENABLE" type="char(1)" defaultValue="Y" defaultValueConstraintName="DF_AM_USER_ENABLE" remarks="启用状态:'Y'-启用，‘N’禁用"/>
			<column name="CREATE_TIME" type="datetime" remarks="创建时间"/>
			<column name="CREATE_BY" type="varchar(32)" remarks="创建人"/>
			<column name="UPDATE_TIME" type="datetime" remarks="修改时间"/>
			<column name="UPDATE_BY" type="varchar(32)" remarks="修改人"/>
		</createTable>
	</changeSet>
	<changeSet author="WangXun" id="1576561645670-10">
		<comment>创建用户角色关系表(AM_USER_ROLE)</comment>
		<createTable tableName="AM_USER_ROLE" remarks="用户角色">
			<column name="ID" type="varchar(32)" remarks="编号">
				<constraints primaryKey="true"/>
			</column>
			<column name="ROLE_ID" type="varchar(32)" remarks="角色编号"/>
			<column name="USER_ID" type="varchar(32)" remarks="用户编号"/>
		</createTable>
	</changeSet>
	<changeSet author="WangXun" id="1576636121375-11">
		<comment>创建字典表(AM_DICTIONARY)</comment>
		<createTable tableName="AM_DICTIONARY" remarks="字典表">
			<column name="ID" type="varchar(32)" remarks="字典标号">
				<constraints primaryKey="true" primaryKeyName="PK_AM_DICTIONARY_ID"/>
			</column>
			<column name="APP_ID" type="varchar(32)" remarks="应用编号">
				<constraints nullable="false" notNullConstraintName="NU_AM_DICTIONARY_TYPE_ID"/>
			</column>
			<column name="NAME" type="varchar(50)" remarks="字典名">
				<constraints nullable="false" notNullConstraintName="NU_AM_DICTIONARY_NAME"/>
			</column>
			<column name="VALUE" type="varchar(50)" remarks="字典值">
				<constraints nullable="false" notNullConstraintName="NU_AM_DICTIONARY_VALUE"/>
			</column>
			<column name="FIXED" type="char(1)" defaultValue="Y" defaultValueConstraintName="DF_AM_DICTIONARY_FIXED" remarks="是否固定值:Y-固定值,N-可变值"/>
			<column name="CREATE_BY" type="varchar(32)" remarks="创建人"/>
			<column name="CREATE_TIME" type="datetime" remarks="创建时间"/>
			<column name="UPDATE_BY" type="varchar(32)" remarks="修改人"/>
			<column name="UPDATE_TIME" type="datetime" remarks="修改时间"/>
		</createTable>
	</changeSet>
	<changeSet author="WangXun" id="1576655370008-12">
		<comment>创建组件表(SC_WIDGET)</comment>
		<createTable tableName="SC_WIDGET" remarks="组件表">
			<column name="ID" type="varchar(32)" remarks="组件编号">
				<constraints primaryKey="true" primaryKeyName="PK_SC_WIDGET_ID"/>
			</column>
			<column name="NAME" type="varchar(32)" remarks="组件名称">
				<constraints nullable="false" notNullConstraintName="NU_WIDGET_NAME"/>
			</column>
			<column name="URL" type="varchar(512)" remarks="该模块对应的URL"/>
			<column name="TEMPLATE" type="varchar(64)" remarks="模板"/>
			<column name="CONTENT_JSON" type="varchar(256)" remarks="详情JSON"/>
			<column name="WIDTH" type="int(8)" remarks="建议宽度"/>
			<column name="POSITION" type="char(1)" remarks="建议位置，L-左，R-右 "/>
			<column name="STYLE" type="varchar(512)" remarks="样式"/>
			<column name="CREATE_BY" type="varchar(32)" remarks="创建人"/>
			<column name="CREATE_TIME" type="datetime" remarks="创建时间"/>
			<column name="UPDATE_BY" type="varchar(32)" remarks="修改人"/>
			<column name="UPDATE_TIME" type="datetime" remarks="修改时间"/>
		</createTable>
	</changeSet>
	<changeSet author="WangXun" id="1576655370008-13">
		<comment>创建组件配置表(SC_WIDGET_CONFIG)</comment>
		<createTable tableName="SC_WIDGET_CONFIG" remarks="组件配置表">
			<column name="ID" type="varchar(32)" remarks="编号">
				<constraints primaryKey="true" primaryKeyName="PK_WIDGET_CONFIG_ID"/>
			</column>
			<column name="WIDGET_ID" type="varchar(32)" remarks="组件编号"/>
			<column name="WIDGET_NAME" type="varchar(50)" remarks="组件自定义名称"/>
			<column name="USER_ID" type="varchar(32)" remarks="用户编号"/>
			<column name="ROLE_ID" type="varchar(32)" remarks="角色编号"/>
			<column name="POSITION" type="char(1)" remarks="真实位置，L-左，R-右"/>
			<column name="WIDTH" type="int" remarks="真实宽度"/>
			<column name="ORDER" type="int" remarks="真实排序码"/>
		</createTable>
	</changeSet>
	<changeSet author="WangXun" id="1576655370008-14">
		<comment>创建应用表(AM_APPLICATION)</comment>
		<createTable tableName="AM_APPLICATION">
			<column name="ID" type="varchar(32)" remarks="应用编号">
				<constraints primaryKey="true" primaryKeyName="PK_APPLICATION_ID"/>
			</column>
			<column name="CLIENT_ID" type="varchar(32)" remarks="客户端编号">
				<constraints nullable="false" notNullConstraintName="NU_APPLICATION_CLIENT_ID"/>
			</column>
			<column name="NAME" type="varchar(50)" remarks="应用名称">
				<constraints nullable="false" notNullConstraintName="NU_APPLICATION_NAME"/>
			</column>
			<column name="ENABLE" type="char(1)" defaultValue="Y" defaultValueConstraintName="DF_APPLICATION_ENABLE" remarks="应用状态:'Y'-启用，‘N’未启用"/>
			<column name="REMARK" type="varchar(128)" remarks="应用描述"/>
			<column name="CREATE_BY" type="varchar(32)" remarks="创建人"/>
			<column name="CREATE_TIME" type="datetime" remarks="创建时间"/>
			<column name="UPDATE_BY" type="varchar(32)" remarks="修改人"/>
			<column name="UPDATE_TIME" type="datetime" remarks="修改时间"/>
		</createTable>
	</changeSet>
</databaseChangeLog>
