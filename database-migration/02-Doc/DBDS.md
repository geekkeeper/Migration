# 数据库对象命名规范

## 一.基本命名原则

1. ### 规范--遵守行业规范

   如果项目有相关国家/行业强制性数据结构标准规范存在时，用于存储某业务数据的业务表在表名命名上原则上应该遵从标准规定，其表中相关字段的中文名称（即数据项名称）若标准规范上有规定的应遵循规定。

2. ### 规范--全部大写原则

   所有数据库对象命名字母全部大写。Oracle对大小写不敏感，但是有些数据库对大小写敏感，统一大写有助于在多个数据库间移植。

3. ### 规范--字符范围原则

   只能使用英文字母、下划线、数字进行命名，首位字符必须是英文字母。建议尽量只使用英文字母和下划线。

4. ### 规范--分段命名原则

   命名中多个单词间采用下划线分隔，以便阅读同时方便某些工具对数据库对象的映射。

5. ### 规范--勿用保留字

   数据库对象命名禁止直接使用数据库保留关键字，但分段中可以使用。

6. ### 规范--统一性原则

   每个系统在启动开发时建立数据字典，管理命名中使用的前缀、英文单词、英文单词缩写等，对用于命名的单词进行统一管理。

   对于同一含义尽量使用相同的单词命名，以免引起误解。

7. ### 规范--简单命名原则

   数据库对象命名总长度**不得超过30字节**，以免超过数据库命名长度限制（Oracle 30字节，MySQL 和 SQL SERVER为64字节）。

8. ### 建议--富有含义原则

   数据库对象命名通常用能表示其内容或者含义的英文单词或其缩写表示。数字应尽量避免使用。

## 二.数据库对象前缀规范

**同一个数据库中对象名不能重复**

| 对象     | 全称                   | 前缀规范                             |
| :------- | :--------------------- | :----------------------------------- |
| 表       | TABLE                  | *CF_*、*SM_*、*PM_*等,根据模块自定义 |
| 视图     | VIEW                   | VW_                                  |
| 索引     | INDEX                  | IX_                                  |
| 存储过程 | STORED PROCEDURE       | SP_                                  |
| 函数     | FUNCTION               | FC_                                  |
| 序列     | SEQUENCE               | SQ_                                  |
| 触发器   | TRIGGER                | TR_                                  |
| 主键约束 | PRIMARY KEY CONSTRAINT | PK_                                  |
| 外键约束 | FOREIGN KEY CONSTRAINT | FK_                                  |
| 默认约束 | DEFAULT CONSTRAINT     | DF_                                  |
| 唯一约束 | UNIQUE CONSTRAINT      | UQ_                                  |
| 检查约束 | CHECK CONSTRAINT       | CK_                                  |

*说明：上表中未提到的对象命名中不使用前缀，后期如果需要在添加。*

## 三.数据库对象命名规范

- **表名使用单数名：**
  *例如：对存储客人信息的表（CUSTOMER）不能使用CUSTOMERS。*
- **避免无谓的表格后缀：**
   *表是用来存储数据信息的,表是行的集合。那么如果表名已经能够很好地说明其包含的数据信息，就不需要再添加体现上面两点的后缀了； GUEST_INFO(存储客户信息)应写成GUEST，FLIGHT_LIST（存储航班信息的表）应写成FLIGHT。*
- **所有表示数目的字段，都应该以COUNT作为结尾**；
- **所有代表链接的字段，均为URL结尾**；
- 所有名称的字符范围为：**A-Z 和_(下划线)。**不允许使用其他字符作为名称；
- 采用英文**单词或英文短语（包括缩写）作为名称**，不能使用无意义的字符或汉语拼音；
- **名称应该清晰明了**，能够准确表达事物的含义，最好可读，遵循“见名知意”的原则；
- **名称长度不能超过30个字节。**

#### 3.1 数据库命名规范（DATABASE）

- 规范：数据库名称不需要简写，根据实际项目来命名。如：HIODS

#### 3.2 表（TABLE）

- **规范**：定义项目模块缩写为前缀开头，未定义则不使用前缀；
- **规范**：表名采用多段式命名，各单词间用下划线分隔；
- **规范**：表名只允许用英文字母、下划线进行命名，不允许用中文或者其他符号；
- **规范**：表名全部字母大写；
- **规范**：根据历史习惯各系统常用表类前缀作如下约定

| 模块名称 | 说明            | 前缀 | 示例                           |
| :------: | :-------------- | :--: | ------------------------------ |
|          |                 | CF_  |                                |
| 系统管理 | system manager  | SM_  |                                |
| 项目管理 | project manager | PM_  |                                |
| 版本控制 | version control | VC_  | 如：VC_CHANGE_LOG （变更日志） |
|          |                 |      |                                |
|          |                 |      |                                |

- **建议：**表名也用于相关索引、约束、主键等命名，因此为了避免相关对象命名长度超过限制，**建议表名长度不要超过20。**
- **建议：**表的命名方式建议采用MOUDLE_ENTITY方式。MOUDLE表示数据库对象所属的系统、模块名或者主题分类的缩写。ENTITY表示目的表代表的实体名称。
- **建议：**命名时应尽可能地使名称能够清晰准确表达对象的内容，使用能代表其含义的英文单词、英文单词缩写。

#### 3.3 列/字段（COLUMN）

- **规范**：列名无需使用前缀；
- **规范**：列名只允许使用大写英文字母、下划线、数字进行命名；尽量只使用大写英文字母和下划线；
- **规范**：列名采用多段式命名时，各单词间用下划线分隔；
- **规范**：列名不能直接使用数据库保留字；
- ***建议***：列的命名应尽可能地采用简洁明了的列名以准确描述列的内容含义, 根据需要可以一个单词或者多个单词进行命名；
- ***建议***：日期类型字段推荐以“_DATE”结尾的名字命名，时间类型的字段推荐以“_TIME”结尾的名字命名。
- ***建议***：主键列命名为“ID”或者以 “_ID”为后缀进行命名。对于需要在其他表中引用的主键字段以“_ID”后缀方式命名，普通表主键无需加后缀。如基础信息表的主键一般应命名为“ENTITY_ID”方式，而通常业务数据明细表的主键则直接命名为“ID”。

示例：

```
1. 正确命名：USER_NAME、AUDIT_TIME、AUDIT_USER；
2. 错误命名：USERNAME、UserName、C_USER_NAME、人员姓名，违反规范；
3. 错误命名：COMMENT、AUDIT，违反保留字。
```

## 四.实体表约束

必须包含的字段：

1. 创建人-CREATE_BY
2. 创建时间-CREATE_TIME
3. 修改人-MODIFY_BY
4. 修改时间-MODIFY_TIME

## 五.SqlServer、MySQL、Oracle数据类型对应关系

| ID   | SqlServer        | MySQL       | Oracle | Description |
| ---- | ---------------- | ----------- | ------ | ----------- |
|      | bigint           | bigint      |        |             |
|      | binary           | binary      |        |             |
|      | bit              | tinyint     |        |             |
|      | char             | char        |        |             |
|      | date             | date        |        |             |
|      | datetime         | datetime    |        |             |
|      | datetime2        | datetime    |        |             |
|      | datetimeoffset   | datetime    |        |             |
|      | decimal          | decimal     |        |             |
|      | float            | float       |        |             |
|      | int              | int         |        |             |
|      | money            | float       |        |             |
|      | nchar            | char        |        |             |
|      | ntext            | text        |        |             |
|      | numeric          | decimal     |        |             |
|      | nvarchar         | varchar     |        |             |
|      | real             | float       |        |             |
|      | smalldatetime    | datetime    |        |             |
|      | smallint         | smallint    |        |             |
|      | smallmoney       | float       |        |             |
|      | text             | text        |        |             |
|      | time             | time        |        |             |
|      | timestamp        | timestamp   |        |             |
|      | tinyint          | tinyint     |        |             |
|      | uniqueidentifier | varchar(40) |        |             |
|      | varbinary        | varbinary   |        |             |
|      | varchar          | varchar     |        |             |
|      | varchar          | varchar     |        |             |
|      |                  |             |        |             |

